# Configuration de production - Variables d'environnement
spring.application.name=GestionDeCommunaute

server.port=${SERVER_PORT:8080}

# Configuration de la base de données
spring.datasource.url=${DATABASE_URL:jdbc:mysql://localhost:3306/gestion_communaute_db?createDatabaseIfNotExist=true}
spring.datasource.username=${DATABASE_USERNAME:root}
spring.datasource.password=${DATABASE_PASSWORD:root}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Configuration JPA/Hibernate
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:update}
spring.jpa.show-sql=${SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${FORMAT_SQL:false}
# Removed explicit dialect - it will be auto-detected
spring.jpa.open-in-view=${OPEN_IN_VIEW:false}

# Pour la documentation Swagger
springdoc.api-docs.enabled=${API_DOCS_ENABLED:true}
springdoc.swagger-ui.enabled=${SWAGGER_UI_ENABLED:true}

# Pour résoudre les problèmes de cache
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false

# Pour l'upload de fichiers
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:10MB}

# Configuration JWT - VARIABLES D'ENVIRONNEMENT OBLIGATOIRES
application.security.jwt.secret-key=${JWT_SECRET_KEY:M2NmYTc2ZWYxNDkzN2MxYzBlYTUxOWY4ZmMwNTdhODBmY2QwNGE3NDIwZjhlOGJjZDBhNzU2N2MyNzJlMDA3Yg==}
application.security.jwt.expiration=${JWT_EXPIRATION:3600000}
application.security.jwt.refresh-token.expiration=${JWT_REFRESH_EXPIRATION:86400000}

# Logging
logging.level.Nabil.Simplice.app=${LOG_LEVEL:INFO}
logging.level.org.springframework.security=${SECURITY_LOG_LEVEL:WARN}
logging.file.name=${LOG_FILE:logs/citizen-backend.log}